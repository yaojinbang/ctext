#include "head.h"
// void score(int a[],int sz)
// {
//     for(int i = 0; i<sz; i++)
//     {
//         printf("??????%d????????:",i+1);
//         scanf("%d",&a[i]);
//     } 
// }
// void bubble(int a[],int sz)
// {
//     int tmp = 0;
//     for(int i = 0; i<sz-1 ; i++)
//     {
//         for(int j = 0; j<sz-1-i; j++)
//         {
//             if(a[j]<a[j+1])
//             {
//                 tmp = a[j];
//                 a[j] = a[j+1];
//                 a[j+1] = tmp;
//                 tmp = 0;
//             }
//         }
//     }
// }
// void display(int a[],int sz)
// {
//     for(int i=0; i<sz; i++)
//     {
//         printf("%d ",a[i]);
//     }
//     printf("\n");
// }
// void input(int* a,int sz)
// {
//     printf("??????%d???????:",sz+1);
//     scanf("%d",&a[sz]);
// }
// void swap(int a[],int sz)
// {
//     int tmp = 0;
//     for(int i = 0; i<sz-1 ; i++)
//     {
//         for(int j = i+1; j<sz; j++)
//         {
//             if(a[i]>a[j])
//             {
//                 tmp = a[i];
//                 a[i] = a[j];
//                 a[j] = tmp;
//                 tmp = 0;
//             }
//         }
//     }
// }
// int main()
// {
//     // 1?????????????a[11],???????????????
//     int a[11] = {0};
//     //2???????????10????????
//     int sz = 10;
//     score(a,sz);
//     // 3????????????????????????????????????
//     bubble(a,sz);
//     display(a,sz);
//     // 4???????????????????????????????????????????????????
//     input(a,sz);
//     bubble(a,sz+1);
//     display(a,sz+1);
//     // 5????????????????????????????????????????????????????????
//     swap(a,sz+1);
//     display(a,sz+1);
//     return 0;
// }
// void sort1(int a[])
// {
//     int tmp = 0;
//     for(int i = 0; i<10-1 ; i++)
//     {
//         for(int j = 0; j<10-1-i; j++)
//         {
//             if(a[j]<a[j+1])
//             {
//                 tmp = a[j];
//                 a[j] = a[j+1];
//                 a[j+1] = tmp;
//                 tmp = 0;
//             }
//         }
//     }
// }
// void sort2(int a[],int sz)
// {
//     int tmp = 0;
//     for(int i = 0; i<sz-1 ; i++)
//     {
//         for(int j = 0; j<sz-1-i; j++)
//         {
//             if(a[j]<a[j+1])
//             {
//                 tmp = a[j];
//                 a[j] = a[j+1];
//                 a[j+1] = tmp;
//                 tmp = 0;
//             }
//         }
//     }
// }
// void sort3(int a[],int sz,char style)
// {
//     int tmp = 0;
//     if(style == 'b')
//     {
//         for(int i = 0; i<sz-1 ; i++)
//         {
//             for(int j = 0; j<sz-1-i; j++)
//             {
//                 if(a[j]<a[j+1])
//                 {
//                     tmp = a[j];
//                     a[j] = a[j+1];
//                     a[j+1] = tmp;
//                     tmp = 0;
//                 }
//             }
//         }
//     }
//     else if(style == 'a')
//     {
//         for(int i = 0; i<sz-1 ; i++)
//         {
//             for(int j = i+1; j<sz; j++)
//             {
//                 if(a[i]>a[j])
//                 {
//                     tmp = a[i];
//                     a[i] = a[j];
//                     a[j] = tmp;
//                     tmp = 0;
//                 }
//             }
//         }
//     }
// }
// void display(int a[],int sz)
// {
//     for(int i=0; i<sz; i++)
//     {
//         printf("%d ",a[i]);
//     }
//     printf("\n");
// }
// int main()
// {
//     int a[10] = {10,40,70,20,50,80,30,60,90,100};
//     int sz = sizeof(a)/sizeof(a[0]);
//     char style = 0;
// // 1?????????????10??????????????????sort(int a[10])
//     sort1(a);
//     display(a,sz);
// // 2???????????????? sort(int a[], int n)??????n????????????????????  
//     sort2(a,sz);
//     display(a,sz);
// // 3????????????????sort(int a[],int n, char style)????n??????????????????,???????4??????sort()??????style????????????style???a??????????, style???d???????????
// // (a : ascending??, d:descending??)
//     printf("??????????? a????? b?????:");
//     scanf("%c",&style);
//     sort3(a,sz,style);
//     display(a,sz);
//     return 0;
// }

// void put_score(int* pstu,int sz)
// {
//     for(int i = 0;i<sz; i++)
//     {
//         *(pstu+i) = (i+1)*10;
//         printf("??????%d????????:%d\n",i+1,*(pstu+i));
//         // scanf("%d",pstu+i);
        
//     }
// }
// void display(int* pstu,int sz)
// {
//     for(int i=0; i<sz; i++)
//     {
//         printf("%d ", *(pstu+i));
//     }
//     printf("\n");
// }
// void sort(int* pstu,int sz)
// {
//     int tmp = 0;
//     for(int i = 0; i<sz-1 ; i++)
//     {
//         for(int j = 0; j<sz-1-i; j++)
//         {
//            if(*(pstu+j)<*(pstu+j+1))
//            {
//                tmp = *(pstu+j);
//                *(pstu+j) = *(pstu+j+1);
//                *(pstu+j+1) = tmp;
//                tmp = 0;
//            }
//         }
//     }
// }
// void my_strcpy(char* pstr,char* buf)
// {
//     int i = 0;
//     while(*(pstr+i) != '\0')
//     {
//         buf[i] = *(pstr+i);
//         i++;
//     }
//     printf("%s",buf);
// }
// int main()
// {
// // 1?????????????stu[10]???10????????????????????????????????????
//     int stu[10] = {0};
//     int* pstu = stu;
//     int sz = sizeof(stu)/sizeof(stu[0]);
//     put_score(pstu,sz);
// // 2????????stu[10]????????????????????????????
//     display(pstu,sz);
// // 3?????????????????????????????????????
// // 4?????????????????????????????????????????????????????????????????????
//     sort(pstu,sz);
//     display(pstu,sz);
// // 5????????????????????????student score ??,???????????????????????????????????????????????)
//     char str[20] = {0};
//     char buf[20] = {0};
//     gets(str);
//     char* pstr = str;
//     my_strcpy(pstr,buf);
//     return 0;
// }
// #define NUM 3
// typedef struct students
// {
//     int id;
//     char name[20];
//     int math;
//     int chinese;
//     int english;
// }students;
// void stu_init(students* stu,int n)
// {
//     for(int i=0; i<n; i++)
//     {
//         printf("??????%d??????????:",i+1);
//         scanf("%d",&stu[i].id);
//         printf("??????%d???????????:",i+1);
//         scanf("%s",&stu[i].name);
//         printf("??????%d?????????????:",i+1);
//         scanf("%d",&stu[i].math);
//         printf("??????%d?????????????:",i+1);
//         scanf("%d",&stu[i].chinese);
//         printf("??????%d????????????:",i+1);
//         scanf("%d",&stu[i].english);
//     }
// }
// void stu_dis(students* stu,int n)
// {
//     for(int i = 0; i<n; i++)
//     {
//         printf("??%d??????????:%d ????:%s ??????:%d ??????:%d ?????:%d\n",i+1,stu[i].id,stu[i].name,stu[i].math,stu[i].chinese,stu[i].english);
//     }
// }
// void score_cmp(students* stu,int n)
// {
//     int max_math = stu[0].math;
//     int max_chinese = stu[0].chinese;
//     int max_english = stu[0].english;
//     int max_m = 0;
//     int max_c = 0;
//     int max_e = 0;
//     for(int i = 0; i<n; i++)
//     {
//         if(max_math < stu[i].math)
//         {
//             max_math = stu[i].math;
//             max_m = i;
//         }
//         if(max_chinese < stu[i].chinese)
//         {
//             max_chinese = stu[i].math;
//             max_c = i;
//         }
//         if(max_english < stu[i].english)
//         {
//             max_english = stu[i].english;
//             max_e = i;
//         }
//     }
//     // printf("????????:%d ?????????:%d ????????:%d\n",max_math,max_chinese,max_english);
//     printf("??????????????%d,????%s,???%d\n",stu[max_m].id,stu[max_m].name,stu[max_m].math);
//     printf("???????????????%d,????%s,???%d\n",stu[max_c].id,stu[max_c].name,stu[max_c].chinese);
//     printf("??????????????%d,????%s,???%d\n",stu[max_e].id,stu[max_e].name,stu[max_e].english);

// }
// void score_avg(students* stu, int n)
// {
//     int avg = 0;
//     int avg_id = 0;
//     avg = (stu[0].math+stu[0].chinese+stu[0].english)/n;
//     for(int i = 1; i<n; i++)
//     {
//         if(avg < (stu[i].math+stu[i].chinese+stu[i].english)/n)
//         {
//             avg = (stu[i].math+stu[i].chinese+stu[i].english)/n;
//             avg_id = i;
//         }   
//     }
//     printf("????????????????????????%d,??????%s,???????%d\n",stu[avg_id].id,stu[avg_id].name,avg);
// }
// void out_avg(students* stu,int n)
// {
//     int avg[3] = {0};
//     int tmp = 0;
//     for(int i = 0; i<n; i++)
//     {
//         avg[i] = (stu[i].math+stu[i].chinese+stu[i].english)/n;
//     }
//     for(int i = 0; i<n-1; i++)
//     {
//         for(int j = 0; j<n-1-i; j++)
//         {
//             if(avg[j]<avg[j+1])
//             {
//                 tmp = avg[j];
//                 avg[j] = avg[j+1];
//                 avg[j+1] = tmp;
//                 tmp = 0;
//             }
//         }
//     }
//     printf("number  name  math chinese english average\n");
//     for(int i = 0; i<n; i++)
//     {
//         for(int j=0; j<n; j++)
//         {
//             if((stu[j].math+stu[j].chinese+stu[j].english)/n == avg[i])
//             {
//                 printf("%4d  %4s  %4d  %4d  %4d  %4d\n",stu[j].id,stu[j].name,stu[j].math,stu[j].chinese,stu[j].english,avg[i]);
//             }
//         }

//     }
// }
// int main()
// {
// // 1????????????????????10??????????????????????????
//     students stu[NUM] = {0};
// // 2???????????10???????????????
//     stu_init(stu,NUM);
//     stu_dis(stu,NUM);
// // 3?????????????????????????????????????????????
//     score_cmp(stu,NUM);
// // 4??????????????????????????????????????????????
//     score_avg(stu,NUM);
// // 5????10???????????????????????????????????????????????:
//     out_avg(stu,NUM);
//     return 0;
// }

// int main()
// {
//     FILE *fp = NULL;
//     fp = fopen(".\\a.bat","w");
//     if(fp == NULL)
//     {
//         printf("????????!\n");
//         exit(1);
//     }
//     for(char c = getchar(); c != '\n'; c=getchar())
//     {
//         fputc(c,fp);
//     }
//     fclose(fp);
// }
typedef struct students
{
    int id;
    char name[20];
    int math;
    int chinese;
    int english;
}students;
void stu_init(students* stu,int n)
{
    for(int i=0; i<n; i++)
    {
        printf("??????%d??????????:",i+1);
        scanf("%d",&stu[i].id);
        printf("??????%d???????????:",i+1);
        scanf("%s",&stu[i].name);
        printf("??????%d?????????????:",i+1);
        scanf("%d",&stu[i].math);
        printf("??????%d?????????????:",i+1);
        scanf("%d",&stu[i].chinese);
        printf("??????%d????????????:",i+1);
        scanf("%d",&stu[i].english);
    }
}
void stu_dis(students* stu,int n)
{
    for(int i = 0; i<n; i++)
    {
        printf("??%d??????????:%d ????:%s ??????:%d ??????:%d ?????:%d\n",i+1,stu[i].id,stu[i].name,stu[i].math,stu[i].chinese,stu[i].english);
    }
}
void stu_write(students* stu, int n)
{
    FILE *fp = NULL;
    fp = fopen(".\\stud.bat","w");
    char buf[100] = {0};
    if(fp == NULL)
    {
        printf("open error\n");
        exit(1);
    }
    // sprintf(buf,"number name math chinese english\n");
    // fputs(buf,fp);
    for(int i = 0; i<n; i++)
    {
        sprintf(buf,"%4d %4s %4d %6d %8d\n",stu[i].id,stu[i].name,stu[i].math,stu[i].chinese,stu[i].english); 
        fputs(buf,fp);
    }
    fclose(fp);
}
void stu_read(students* stu, int n)
{
    char buf[1023] = {0};
    FILE* fp = NULL;
    fp = fopen(".\\stud.bat","r");
    if(fp == NULL)
    {
        printf("open error");
        exit(1);
    }
    fread(buf,1024,1,fp);
    fclose(fp);
    //fread buffer:??????????fwrite??????????????????
    //size?????????????
    //count???????????????
    //stream???????????
    printf("%s",buf);
}
int main()
{

// 1????????????????????10??????????????????????????
    students stu[3] = {0};
// 2???????????10??????????????????????? stud.dat????????
    stu_init(stu,3);
    stu_dis(stu,3);
    stu_write(stu,3);
// 3???? stud.dat????????????????????????????????????
    stu_read(stu,3);
// 4??????? stud. dat????????????????10??????????????????????????????????????????????????studsort.dat ????
// 5????studsort.dat??????????2??4??6??8??10????????????
    return 0;
}

